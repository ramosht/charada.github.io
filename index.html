<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riddle White Elefant</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="reset.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <main>
        <div class="container">
            <div class="content">
                <h1>Can you guess what am I?</h1>
        
                <div class="charada">
                    <span>I can fly but have no wings,</span>
                    <span>I cry but I have no eyes,</span>
                    <span>Wherever I go, shadow follows me.</span>
                    <span>What am I?</span>
                      
                </div>
            </div>
            <div class="formWrapper">
                <div class="form">
                    <input id="resposta" type='text' name="resposta" placeholder="I'm..."/>
                    <span class="respostaBackground"></span>
                </div>
                <button onclick="test()" class="submit">
                    <img src="src/search.png" class="errado" />
                </button>
            </div>
            <div class="meme">
                <img id="memeSRC" src/>
                <span id="memeMSG"></span>
            </div>
        </div>
    </main>

    <script>
        var wrongAnswersCounter = 0;
        var memes = [
            './src/memes/01.webp',
            './src/memes/02.webp',
            './src/memes/03.webp',
            './src/memes/04.webp',
            './src/memes/05.webp',
            './src/memes/06.webp',
            './src/memes/07.webp',
            './src/memes/08.webp',
            './src/memes/09.webp',
            './src/memes/10.webp',
            './src/memes/11.webp',
            './src/memes/12.webp',
            './src/memes/13.webp',
            './src/memes/14.webp',
            './src/memes/15.webp',
            './src/memes/16.webp',
            './src/memes/17.webp',
        ];

        var mensagens = [
            'Vish, wrong ðŸ˜¬',
            'Nah, wrong ðŸ˜Š',
            'Vish, wrong ðŸ˜³',
            'nope, not this time baby ðŸ˜˜',
            'Nem ðŸ™ƒ',
            'LOL! Wrong ðŸ¥¸',
            'Try again ðŸ˜Ž',
            'ðŸ¤£ðŸ¤£ðŸ¤£ðŸ¤£ðŸ¤£ nah, not this time',
            'not today ðŸ™…ðŸ»â€â™‚ï¸'
        ];
        
        function test() {
            var respostaCorreta = ["cloud", "clouds"]
            var respostaPessoa = document.getElementById('resposta').value.toLowerCase().trim();

            if(respostaPessoa.length > 0) {
                if(wrongAnswersCounter < 10) {
                    wrongAnswersCounter++;
                    if(respostaCorreta.includes(respostaPessoa)) {
                        const memeImage = document.querySelector('#memeSRC')
                        const memeMessage = document.querySelector('#memeMSG')
        
                        memeImage.setAttribute('src', './src/memes/acertou-2.webp')
                        memeMessage.innerHTML = "Congratulations! You're right, it's an cloud. Now comes your prize: the code for the padlock <span class='strong'>498</span>"
                        document.getElementById('resposta').setAttribute('disabled', 'true')
                    } else {
                        const randomNumberMeme = Math.floor(Math.random() * (memes.length - 1 + 1) + 0)
                        const randomNumberMsg = Math.floor(Math.random() * (mensagens.length - 1 + 1) + 0)
        
                        const memeEscolhido = memes[randomNumberMeme];
                        const msgEscolhida = memes[randomNumberMsg];
        
                        const memeImage = document.querySelector('#memeSRC')
                        const memeMessage = document.querySelector('#memeMSG')
        
                        memeImage.setAttribute('src', memeEscolhido)
                        memeMessage.innerHTML = mensagens[randomNumberMsg]
    
                        document.getElementById('resposta').value = ''
                    }
                } else {
                    const memeImage = document.querySelector('#memeSRC')
                        const memeMessage = document.querySelector('#memeMSG')
        
                        memeImage.setAttribute('src', './src/memes/acertou.webp')
                        memeMessage.innerHTML = "Ohh! You're wrong again. But you're a good person, so I'm gonna tell you the answer: it's cloud. Now, the code to open the padlock is <span class='strong'>498</span>"
                        document.getElementById('resposta').setAttribute('disabled', 'true')
                }
            }
        }
    </script>
</body>
</html>